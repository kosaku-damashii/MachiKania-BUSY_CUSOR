REM CLASS "BSYCSR"
FIELD PRIVATE I0#,R0,H0,W0,RINGR#,YB
FIELD PUBLIC DEG,X0,Y0

METHOD INIT
  DEG=ARGS(1)
  H0=ARGS(2)
  W0=ARGS(3)
  R0=ARGS(4)+2
  RINGR#=FLOAT#(H0/2-R0-10)
  YB=H0/2+INT(RINGR#)+R0
RETURN

METHOD LOCATE
  I0#=FLOAT#(DEG)
  X0=W0/2+INT(RINGR#*COS#(I0#*2*PI#/360))
  Y0=H0/2+INT(RINGR#*SIN#(I0#*2*PI#/360))
RETURN

METHOD GETX
RETURN X0

METHOD GETY
RETURN Y0

METHOD DRAW
  VAR C
  C=0xF0+(0x0F-Y0/14)
  LINE X0- 7+X,YB-8,X0+15-9+X,YB-8,C
  LINE X0-11+X,YB-7,X0+15-5+X,YB-7,C
  LINE X0-14+X,YB-6,X0+15-2+X,YB-6,C
  LINE X0-16+X,YB-5,X0+15+X  ,YB-5,C
  LINE X0-16+X,YB-4,X0+15+X  ,YB-4,C
  LINE X0-14+X,YB-3,X0+15-2+X,YB-3,C
  LINE X0-11+X,YB-2,X0+15-5+X,YB-2,C
  LINE X0- 7+X,YB-1,X0+15-9+X,YB-1,C
  PUTBMP X0-16+X,Y0-16+Y,32,32,T
RETURN

METHOD CLR
  BOXFILL X0-16+X,YB-8,X0+15+X,YB-1,0x0F
  CIRCLEFILL X0,Y0,R0,0x0F
RETURN
